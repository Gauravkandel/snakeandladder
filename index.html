<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Snake and Ladder Game</title>
    <style>
        * {
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', sans-serif;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            background-color: #f5f5f5;
            padding: 10px;
            min-height: 100vh;
            margin: 0;
        }
        
        .game-wrapper {
            display: flex;
            gap: 30px;
            align-items: flex-start;
            width: 100%;
            max-width: 1200px;
        }
        
        .left-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            flex: 1;
        }
        
        h1 {
            color: #2c3e50;
            margin-bottom: 20px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
            text-align: center;
            font-size: clamp(1.5rem, 4vw, 2.5rem);
            line-height: 1.2;
        }
        
        .game-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            aspect-ratio: 1 / 1;
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
            border-radius: 10px;
            overflow: hidden;
        }
        
        #game-board {
            width: 100%;
            height: 100%;
            background-image: url('https://i.pinimg.com/736x/1b/51/f9/1b51f934c33150592b51e8b252fe9a80.jpg');
            background-size: cover;
            background-position: center;
            position: relative;
            border: 4px solid #34495e;
            border-radius: 8px;
        }
        
        .player {
            width: clamp(24px, 5vw, 32px);
            height: clamp(24px, 5vw, 32px);
            border-radius: 50%;
            position: absolute;
            transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            z-index: 10;
            box-shadow: 0 4px 12px rgba(0,0,0,0.4);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: clamp(12px, 2.5vw, 16px);
            border: 2px solid white;
        }
        
        .player1 {
            background-color: #e74c3c;
        }
        
        .player2 {
            background-color: #3498db;
        }
        
        .controls {
            display: flex;
            flex-direction: column;
            align-items: center;
            background-color: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            width: 100%;
            max-width: 300px;
            margin-top: 20px;
        }
        
        .status {
            font-size: clamp(16px, 3.5vw, 20px);
            margin-bottom: 20px;
            padding: 15px 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 10px;
            text-align: center;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            width: 100%;
        }
        
        .dice-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 20px 0;
            width: 100%;
        }
        
        .dice {
            font-size: clamp(24px, 6vw, 32px);
            padding: 15px;
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            border-radius: 12px;
            width: clamp(60px, 15vw, 80px);
            height: clamp(60px, 15vw, 80px);
            text-align: center;
            box-shadow: 
                0 8px 16px rgba(0,0,0,0.1),
                inset 0 1px 0 rgba(255,255,255,0.6);
            display: flex;
            align-items: center;
            justify-content: center;
            border: 3px solid #ddd;
            color: #333;
            font-weight: bold;
            margin-bottom: 20px;
        }
        
        button {
            padding: 15px 25px;
            font-size: clamp(14px, 3vw, 18px);
            background: linear-gradient(145deg, #2ecc71, #27ae60);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
            letter-spacing: 1px;
            box-shadow: 0 6px 15px rgba(46, 204, 113, 0.3);
            width: 100%;
            min-height: 48px;
            touch-action: manipulation;
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(46, 204, 113, 0.4);
        }
        
        button:active {
            transform: translateY(0);
        }
        
        button:disabled {
            background: linear-gradient(145deg, #95a5a6, #7f8c8d);
            cursor: not-allowed;
            transform: none;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .dice-animation {
            animation: diceRoll 0.6s cubic-bezier(.36,.07,.19,.97) both;
        }
        
        @keyframes diceRoll {
            0% { transform: translateX(0) rotate(0deg) scale(1); }
            25% { transform: translateX(-10px) rotate(-15deg) scale(1.1); }
            50% { transform: translateX(10px) rotate(15deg) scale(1.1); }
            75% { transform: translateX(-5px) rotate(-10deg) scale(1.05); }
            100% { transform: translateX(0) rotate(0deg) scale(1); }
        }
        
        .player-jump {
            animation: playerJump 0.5s ease;
        }
        
        @keyframes playerJump {
            0%, 100% { transform: translateY(0) scale(1); }
            50% { transform: translateY(-10px) scale(1.1); }
        }
        
        .snake-slide {
            animation: snakeSlide 1s ease-in-out;
        }
        
        @keyframes snakeSlide {
            0% { transform: scale(1) rotate(0deg); }
            50% { transform: scale(1.2) rotate(5deg); }
            100% { transform: scale(1) rotate(0deg); }
        }
        
        .ladder-climb {
            animation: ladderClimb 1s ease-in-out;
        }
        
        @keyframes ladderClimb {
            0% { transform: scale(1) rotate(0deg); }
            25% { transform: scale(1.1) rotate(-2deg); }
            50% { transform: scale(1.2) rotate(2deg); }
            75% { transform: scale(1.1) rotate(-1deg); }
            100% { transform: scale(1) rotate(0deg); }
        }
        
        .win-celebration {
            animation: winCelebration 2s ease-in-out infinite;
        }
        
        @keyframes winCelebration {
            0%, 100% { transform: scale(1) rotate(0deg); }
            25% { transform: scale(1.2) rotate(5deg); }
            50% { transform: scale(1.3) rotate(-5deg); }
            75% { transform: scale(1.2) rotate(3deg); }
        }
        
        .game-info {
            background-color: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin-top: 20px;
            font-size: clamp(12px, 2.5vw, 14px);
            color: #555;
            width: 100%;
        }
        
        .player-info {
            display: flex;
            justify-content: space-between;
            margin: 8px 0;
            padding: 8px 12px;
            background-color: #f8f9fa;
            border-radius: 6px;
            font-weight: bold;
        }
        
        .player1-info { border-left: 4px solid #e74c3c; }
        .player2-info { border-left: 4px solid #3498db; }
        
        /* Mobile-specific styles */
        @media (max-width: 768px) {
            body {
                padding: 5px;
            }
            
            .game-wrapper {
                flex-direction: column;
                gap: 20px;
                align-items: center;
            }
            
            .left-section {
                width: 100%;
            }
            
            .controls {
                max-width: 100%;
                width: 100%;
                padding: 15px;
                margin-top: 0;
            }
            
            h1 {
                margin-bottom: 15px;
                padding: 0 10px;
            }
            
            .game-container {
                margin-bottom: 10px;
            }
            
            .player {
                border-width: 1px;
            }
        }
        
        @media (max-width: 480px) {
            body {
                padding: 2px;
            }
            
            .game-wrapper {
                gap: 15px;
            }
            
            .controls {
                padding: 12px;
            }
            
            .status {
                padding: 12px 15px;
                margin-bottom: 15px;
            }
            
            .dice-container {
                margin: 15px 0;
            }
            
            .dice {
                margin-bottom: 15px;
                padding: 12px;
            }
            
            button {
                padding: 12px 20px;
                min-height: 44px;
            }
            
            .game-info {
                padding: 12px;
                margin-top: 15px;
            }
            
            .player-info {
                margin: 6px 0;
                padding: 6px 10px;
            }
        }
        
        /* Landscape mode adjustments for small screens */
        @media (max-height: 500px) and (orientation: landscape) {
            .game-wrapper {
                flex-direction: row;
                gap: 15px;
            }
            
            .left-section {
                flex: 1;
            }
            
            .controls {
                width: 250px;
                margin-top: 0;
            }
            
            h1 {
                font-size: 1.2rem;
                margin-bottom: 10px;
            }
        }
        
        /* Touch-friendly hover states */
        @media (hover: none) and (pointer: coarse) {
            button:hover {
                transform: none;
                box-shadow: 0 6px 15px rgba(46, 204, 113, 0.3);
            }
        }
    </style>
</head>
<body>
    <div class="game-wrapper">
        <div class="left-section">
            <h1>🐍 Snake and Ladder Game 🪜</h1>
            <div class="game-container">
                <div id="game-board"></div>
            </div>
        </div>
        
        <div class="controls">
            <div class="status" id="status">Player 1's turn</div>
            
            <div class="dice-container">
                <div class="dice" id="dice">🎲</div>
                <button id="roll-btn">🎲 Roll Dice</button>
            </div>
            
            <div class="game-info">
                <div class="player-info player1-info">
                    <span>Player 1:</span>
                    <span id="player1-pos">Position 1</span>
                </div>
                <div class="player-info player2-info">
                    <span>Player 2:</span>
                    <span id="player2-pos">Position 1</span>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Game configuration
            const boardSize = 10;
            const totalCells = boardSize * boardSize;
            
            // Players
            const players = [
                { id: 1, name: 'Player 1', position: 1, color: 'player1' },
                { id: 2, name: 'Player 2', position: 1, color: 'player2' }
            ];
            
            let currentPlayerIndex = 0;
            let diceValue = 0;
            let gameOver = false;
            let isMoving = false;
            let cellDimensions = { width: 0, height: 0 };
            
            // Snakes and ladders based on the board image (start -> end)
            const snakes = {
                17: 7,   // Snake from 17 to 7
                54: 34,  // Snake from 54 to 34
                62: 19,  // Snake from 62 to 19
                64: 60,  // Snake from 64 to 60
                87: 24,  // Snake from 87 to 24
                93: 73,  // Snake from 93 to 73
                95: 75,  // Snake from 95 to 75
                98: 79   // Snake from 98 to 79
            };
            
            const ladders = {
                4: 14,   // Ladder from 4 to 14
                9: 31,   // Ladder from 9 to 31
                20: 38,  // Ladder from 20 to 38
                28: 84,  // Ladder from 28 to 84
                40: 59,  // Ladder from 40 to 59
                51: 67,  // Ladder from 51 to 67
                63: 81,  // Ladder from 63 to 81
                71: 91   // Ladder from 71 to 91
            };
            
            // DOM elements
            const gameBoard = document.getElementById('game-board');
            const statusElement = document.getElementById('status');
            const diceElement = document.getElementById('dice');
            const rollBtn = document.getElementById('roll-btn');
            const player1PosElement = document.getElementById('player1-pos');
            const player2PosElement = document.getElementById('player2-pos');
            
            // Initialize the game
            initGame();
            
            function initGame() {
                calculateCellDimensions();
                
                // Create player tokens
                players.forEach(player => {
                    const playerElement = document.createElement('div');
                    playerElement.className = `player ${player.color}`;
                    playerElement.id = `player-${player.id}`;
                    playerElement.textContent = player.id;
                    gameBoard.appendChild(playerElement);
                });
                
                // Position players at start
                updatePlayerPositions();
                updatePlayerInfo();
                
                // Event listeners
                rollBtn.addEventListener('click', rollDice);
                rollBtn.addEventListener('touchstart', function(e) {
                    e.preventDefault();
                    if (!rollBtn.disabled) {
                        rollDice();
                    }
                });
                
                // Recalculate dimensions on window resize
                window.addEventListener('resize', function() {
                    calculateCellDimensions();
                    updatePlayerPositions();
                });
            }
            
            function calculateCellDimensions() {
                const boardRect = gameBoard.getBoundingClientRect();
                cellDimensions.width = boardRect.width / boardSize;
                cellDimensions.height = boardRect.height / boardSize;
            }
            
            function rollDice() {
                if (gameOver || isMoving) return;
                
                // Disable button during animation
                rollBtn.disabled = true;
                diceElement.textContent = '🎲';
                diceElement.classList.add('dice-animation');
                
                // Animate dice roll
                let rolls = 0;
                const maxRolls = 20;
                const rollInterval = setInterval(() => {
                    const tempDice = Math.floor(Math.random() * 6) + 1;
                    diceElement.textContent = tempDice;
                    rolls++;
                    
                    if (rolls >= maxRolls) {
                        clearInterval(rollInterval);
                        diceValue = tempDice;
                        diceElement.classList.remove('dice-animation');
                        setTimeout(movePlayerStepByStep, 300);
                    }
                }, 80);
            }
            
            function movePlayerStepByStep() {
                isMoving = true;
                const currentPlayer = players[currentPlayerIndex];
                const startPosition = currentPlayer.position;
                const targetPosition = Math.min(startPosition + diceValue, totalCells);
                
                let currentStep = startPosition;
                const stepInterval = setInterval(() => {
                    if (currentStep < targetPosition) {
                        currentStep++;
                        currentPlayer.position = currentStep;
                        
                        // Add jump animation for each step
                        const playerElement = document.getElementById(`player-${currentPlayer.id}`);
                        playerElement.classList.add('player-jump');
                        setTimeout(() => playerElement.classList.remove('player-jump'), 500);
                        
                        updatePlayerPositions();
                        updatePlayerInfo();
                    } else {
                        clearInterval(stepInterval);
                        checkWinCondition(currentPlayer, targetPosition);
                    }
                }, 400);
            }
            
            function checkWinCondition(currentPlayer, position) {
                // Check if player won
                if (position >= totalCells) {
                    gameOver = true;
                    statusElement.textContent = `🎉 ${currentPlayer.name} wins! 🎉`;
                    statusElement.style.background = 'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)';
                    
                    const playerElement = document.getElementById(`player-${currentPlayer.id}`);
                    playerElement.classList.add('win-celebration');
                    
                    rollBtn.disabled = true;
                    isMoving = false;
                    return;
                }
                
                // Check for snakes or ladders
                setTimeout(() => {
                    if (snakes[position]) {
                        statusElement.textContent = `🐍 ${currentPlayer.name} got bitten by a snake!`;
                        const playerElement = document.getElementById(`player-${currentPlayer.id}`);
                        playerElement.classList.add('snake-slide');
                        
                        setTimeout(() => {
                            currentPlayer.position = snakes[position];
                            updatePlayerPositions();
                            updatePlayerInfo();
                            playerElement.classList.remove('snake-slide');
                            finishTurn();
                        }, 1000);
                        
                    } else if (ladders[position]) {
                        statusElement.textContent = `🪜 ${currentPlayer.name} climbed a ladder!`;
                        const playerElement = document.getElementById(`player-${currentPlayer.id}`);
                        playerElement.classList.add('ladder-climb');
                        
                        setTimeout(() => {
                            currentPlayer.position = ladders[position];
                            updatePlayerPositions();
                            updatePlayerInfo();
                            playerElement.classList.remove('ladder-climb');
                            finishTurn();
                        }, 1000);
                        
                    } else {
                        statusElement.textContent = `${currentPlayer.name} moved to position ${position}`;
                        finishTurn();
                    }
                }, 500);
            }
            
            function finishTurn() {
                // Switch player if not 6
                if (diceValue !== 6) {
                    currentPlayerIndex = (currentPlayerIndex + 1) % players.length;
                }
                
                // Update status for next player
                if (!gameOver) {
                    setTimeout(() => {
                        statusElement.textContent = `${players[currentPlayerIndex].name}'s turn`;
                        statusElement.style.background = 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)';
                        rollBtn.disabled = false;
                        isMoving = false;
                        diceElement.textContent = '🎲';
                    }, 1000);
                }
            }
            
            function updatePlayerPositions() {
                players.forEach(player => {
                    const playerElement = document.getElementById(`player-${player.id}`);
                    const { x, y } = getCellCoordinates(player.position);
                    
                    // Better positioning - center players in cells with slight offset for visibility
                    let offsetX = 0;
                    let offsetY = 0;
                    
                    // If both players are on same position, offset them
                    if (players[0].position === players[1].position && players.length === 2) {
                        const offsetDistance = Math.min(cellDimensions.width * 0.2, 12);
                        offsetX = player.id === 1 ? -offsetDistance : offsetDistance;
                        offsetY = player.id === 1 ? -offsetDistance : offsetDistance;
                    }
                    
                    playerElement.style.left = `${x + offsetX}px`;
                    playerElement.style.top = `${y + offsetY}px`;
                });
            }
            
            function updatePlayerInfo() {
                player1PosElement.textContent = `Position ${players[0].position}`;
                player2PosElement.textContent = `Position ${players[1].position}`;
            }
            
            function getCellCoordinates(cellNumber) {
                // Convert cell number to row and column
                const row = Math.floor((cellNumber - 1) / boardSize);
                const col = (row % 2 === 0) ? 
                    (cellNumber - 1) % boardSize : 
                    boardSize - 1 - ((cellNumber - 1) % boardSize);
                
                // Calculate pixel coordinates - adjusted to center players in cells
                const x = col * cellDimensions.width + cellDimensions.width / 2 - 16;
                const y = (boardSize - 1 - row) * cellDimensions.height + cellDimensions.height / 2 - 16;
                
                return { x, y };
            }
        });
    </script>
</body>
</html>